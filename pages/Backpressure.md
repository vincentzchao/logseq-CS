alias:: [[背压]]
---

- ## 数据拥塞问题
	- 当消息到达的速度, 超过程序处理速度时, 可能会出现如下问题:
		- 由于缓存消息, 导致内存被填满;
		  logseq.order-list-type:: number
		- 由于消息处理太频繁, 导致 CPU 使用率到达 100%, 最终导致无响应 (unresponsive).
		  logseq.order-list-type:: number
		- 以上兼而有之.
		  logseq.order-list-type:: number
	- 抽象描述下, 就是: **消费者消费数据** 的速度跟不上 **生产者生产数据** 的速度.
		- 这个问题可以被称为 **数据拥塞** 问题.
- ## 什么是背压
	- `背压` 是解决 **数据拥塞** 问题的一种机制:
		- 当 **消费者** 处理不过来时，向 **生产者** 发出信号让其减速或暂停.
	- 为什么叫 `背压`:
		- 因为, **消费者** 消费速度太慢时, **消费者** 会感受到压力;
		- **背压机制** 会将这种压力会从 **消费者** , 经由 **中间层** (比如 **消费者** 的缓冲区, **生产者** 的缓冲区), 反向传递给上游 **生产者** , 让其减速或暂停.
		- 这是一种反向 (back) 压力 (pressure) .
	- ==注意: 背压并非指 数据拥塞 问题本身.==
		- 所以, 你不能说: "系统出现了背压" .
		- 而应该说: "系统通过背压机制来控制生产速率" .
- ## 适用范围
	- 参考: [ChatGPT](https://chatgpt.com/)
	- 背压机制 只在 **网络流 / IPC** 这类交互式通信中才有意义, 因为需要 **控制流速** .
	- 而 **文件流** 无需 **控制流速** , 其缓冲区 ( 用户态缓冲区 / 内核页缓存 ) 的作用只是优化性能 (减少磁盘 IO) .
	-